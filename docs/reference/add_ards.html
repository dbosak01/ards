<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Adds data to an Analysis Results Dataset — add_ards • ards</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Adds data to an Analysis Results Dataset — add_ards"><meta name="description" content='The add_ards function dumps data from an input analysis
dataset
to the ARDS dataset.  The function is designed to be pipe-friendly, and will
return the input dataset unaltered.  The parameters on the function
define how to extract the desired data from the analysis dataset.
The "statvars" parameter defines which columns contain desired
analysis results.  The values in these columns will be used to populate the
"statval" variable in the output dataset.  Other parameters are used to
define identifying information for the statistics values, and are optional.
The add_ards function should be called immediately after any
calculations, while the analysis results are still in numeric form.  This
recommendation is to ensure that the ARDS will contain full precision of the
analysis values.  Once the analysis values are dumped into the ARDS, you
may proceed to transform and format your analysis data, without affecting
the values captured in the ARDS.'><meta property="og:description" content='The add_ards function dumps data from an input analysis
dataset
to the ARDS dataset.  The function is designed to be pipe-friendly, and will
return the input dataset unaltered.  The parameters on the function
define how to extract the desired data from the analysis dataset.
The "statvars" parameter defines which columns contain desired
analysis results.  The values in these columns will be used to populate the
"statval" variable in the output dataset.  Other parameters are used to
define identifying information for the statistics values, and are optional.
The add_ards function should be called immediately after any
calculations, while the analysis results are still in numeric form.  This
recommendation is to ensure that the ARDS will contain full precision of the
analysis values.  Once the analysis values are dumped into the ARDS, you
may proceed to transform and format your analysis data, without affecting
the values captured in the ARDS.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ards</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/ards.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dbosak01/ards/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Adds data to an Analysis Results Dataset</h1>
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/ards/blob/HEAD/R/ards.R" class="external-link"><code>R/ards.R</code></a></small>
      <div class="d-none name"><code>add_ards.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>The <code>add_ards</code> function dumps data from an input analysis
dataset
to the ARDS dataset.  The function is designed to be pipe-friendly, and will
return the input dataset unaltered.  The parameters on the function
define how to extract the desired data from the analysis dataset.
The "statvars" parameter defines which columns contain desired
analysis results.  The values in these columns will be used to populate the
"statval" variable in the output dataset.  Other parameters are used to
define identifying information for the statistics values, and are optional.</p>
<p>The <code>add_ards</code> function should be called immediately after any
calculations, while the analysis results are still in numeric form.  This
recommendation is to ensure that the ARDS will contain full precision of the
analysis values.  Once the analysis values are dumped into the ARDS, you
may proceed to transform and format your analysis data, without affecting
the values captured in the ARDS.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_ards</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  <span class="va">statvars</span>,</span>
<span>  statdesc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  byvars <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  trtvar <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  paramcd <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  anal_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  anal_val <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>The input data to create analysis results for.  This parameter
is required.</p></dd>


<dt id="arg-statvars">statvars<a class="anchor" aria-label="anchor" href="#arg-statvars"></a></dt>
<dd><p>A vector of column names that identify the desired results.
Statvar columns must be numeric.  This parameter is required.</p></dd>


<dt id="arg-statdesc">statdesc<a class="anchor" aria-label="anchor" href="#arg-statdesc"></a></dt>
<dd><p>A vector of values or a column name that identifies a description
for each statvar. If passed as a vector of values, the number of values
should correspond to the number of 'statvar' variables.</p></dd>


<dt id="arg-byvars">byvars<a class="anchor" aria-label="anchor" href="#arg-byvars"></a></dt>
<dd><p>A vector of column names to use for by variables.</p></dd>


<dt id="arg-trtvar">trtvar<a class="anchor" aria-label="anchor" href="#arg-trtvar"></a></dt>
<dd><p>A column name to use for the treatment variable.</p></dd>


<dt id="arg-paramcd">paramcd<a class="anchor" aria-label="anchor" href="#arg-paramcd"></a></dt>
<dd><p>A character string that describes the analysis parameter
code or column name that contains the parameter code. If supplied as a
column name, the function will populate the 'paramcd' column in the ARDS
with the value of the 'paramcd' column.</p></dd>


<dt id="arg-anal-var">anal_var<a class="anchor" aria-label="anchor" href="#arg-anal-var"></a></dt>
<dd><p>A column name for the analysis variable or a string
that identifies the analysis variable.</p></dd>


<dt id="arg-anal-val">anal_val<a class="anchor" aria-label="anchor" href="#arg-anal-val"></a></dt>
<dd><p>The analysis variable value.  Can be identified by a column
name or a vector of values. By default, the analysis values will be taken
from the values of the variable passed in 'anal_var'.  This parameter
exists so that you may pass in the values from a different variable, if desired.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The input data frame, unaltered.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other ards:
<code><a href="get_ards.html">get_ards</a>()</code>,
<code><a href="init_ards.html">init_ards</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ards.r-sassy.org">ards</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initialize the ARDS</span></span>
<span><span class="fu"><a href="init_ards.html">init_ards</a></span><span class="op">(</span>studyid <span class="op">=</span> <span class="st">"MTCARS"</span>,</span>
<span>          tableid <span class="op">=</span> <span class="st">"01"</span>, adsns <span class="op">=</span> <span class="st">"mtcars"</span>,</span>
<span>          population <span class="op">=</span> <span class="st">"all cars"</span>,</span>
<span>          time <span class="op">=</span> <span class="st">"1973"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Perform analysis on MPG</span></span>
<span><span class="co"># - Add to ARDS from within continuous variable pipeline</span></span>
<span><span class="va">mpgdf</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">mpg</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>            mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            std <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">add_ards</span><span class="op">(</span>statvars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"mean"</span>, <span class="st">"std"</span>, <span class="st">"min"</span>, <span class="st">"max"</span><span class="op">)</span>,</span>
<span>         anal_var <span class="op">=</span> <span class="st">"mpg"</span>, trtvar <span class="op">=</span> <span class="st">"cyl"</span><span class="op">)</span></span>
<span>            </span>
<span><span class="co"># Perform analysis on GEAR</span></span>
<span><span class="co"># - Add to ARDS from within categorical variable pipeline</span></span>
<span><span class="va">geardf</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>denom <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">gear</span>, <span class="va">denom</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">gear</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>cnt <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, </span>
<span>            denom <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">denom</span><span class="op">)</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>pct <span class="op">=</span> <span class="va">cnt</span> <span class="op">/</span> <span class="va">denom</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu">add_ards</span><span class="op">(</span>statvars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cnt"</span>, <span class="st">"pct"</span>, <span class="st">"denom"</span><span class="op">)</span>,</span>
<span>         anal_var <span class="op">=</span> <span class="st">"gear"</span>, trtvar <span class="op">=</span> <span class="st">"cyl"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Get the ARDS</span></span>
<span><span class="va">ards</span> <span class="op">&lt;-</span> <span class="fu"><a href="get_ards.html">get_ards</a></span><span class="op">(</span><span class="op">)</span> </span>
<span></span>
<span><span class="co"># Uncomment to view ards</span></span>
<span><span class="co"># View(ards)</span></span></code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Bosak.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

