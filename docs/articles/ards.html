<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>ards • ards</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="ards">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="inverse" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ards</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<ul class="navbar-nav">
<li class="active nav-item"><a class="nav-link" href="../articles/ards.html">Get started</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/ards-example1.html">Example 1: ARDS in Parallel</a></li>
    <li><a class="dropdown-item" href="../articles/ards-example2.html">Example 2: ARDS in Serial</a></li>
    <li><a class="dropdown-item" href="../articles/ards-faq.html">Frequently Asked Questions</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href=".././articles/ards-faq.html">FAQ</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dbosak01/ards/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>ards</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/dbosak01/ards/blob/HEAD/vignettes/ards.Rmd" class="external-link"><code>vignettes/ards.Rmd</code></a></small>
      <div class="d-none name"><code>ards.Rmd</code></div>
    </div>

    
    
<p>The <strong>ards</strong> package creates Analysis Results Datasets
(ARDS). ARDS are used to store the results of an analysis in a tabular
form, so they can be examined and manipulated by downstream
processes.</p>
<p>An ARDS dataset is created with the following steps:</p>
<ol style="list-style-type: decimal">
<li>Initialize the ARDS</li>
<li>Add data to the ARDS</li>
<li>Extract the completed ARDS</li>
</ol>
<p>The above three steps are performed with the following functions:</p>
<ul>
<li>
<code><a href="../reference/init_ards.html">init_ards()</a></code>: A function to initialize the ARDS dataset.
This function is typically called at the beginning of a program.</li>
<li>
<code><a href="../reference/add_ards.html">add_ards()</a></code>: A function to add data to the ARDS. This
function is typically called along the way, as you create analysis
data.</li>
<li>
<code><a href="../reference/get_ards.html">get_ards()</a></code>: A function to extract the ARDS dataset.
This function is typically called at the end of the program.</li>
</ul>
<p>The above steps result in an ARDS data frame. Once this data frame is
extracted, you may save it to disk, or insert it into a database, as
desired.</p>
<p>If needed, you may also convert the ARDS data structure back into a
wide-form analysis structure for reporting. See the
<code><a href="../reference/restore_ards.html">restore_ards()</a></code> function description below.</p>
<div class="section level2">
<h2 id="ards-structure">ARDS Structure<a class="anchor" aria-label="anchor" href="#ards-structure"></a>
</h2>
<p>The data structure produced by the <strong>ards</strong> package is a
structure recommended by <a href="https://www.cdisc.org/" class="external-link">CDISC</a>.
This structure puts all analysis values into a single column. Therefore,
there is one row per analysis value. Descriptive information, such as
the the name of the analysis variable and the by groups, are stored in
other columns.</p>
<p>Here is the data dictionary for the ARDS dataset:
<img src="../man/images/structure.png" alt="ARDS dataset structure"></p>
</div>
<div class="section level2">
<h2 id="how-to-use-ards">How to Use <strong>ards</strong><a class="anchor" aria-label="anchor" href="#how-to-use-ards"></a>
</h2>
<p>To see how the <strong>ards</strong> functions work, let us first
perform a very simple analysis on the <strong>mtcars</strong> sample
data frame. Examine the following example:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ards.r-sassy.org">ards</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Initialize the ARDS</span></span>
<span><span class="co"># - These values will be repeated on all rows in the ARDS dataset</span></span>
<span><span class="fu"><a href="../reference/init_ards.html">init_ards</a></span><span class="op">(</span>studyid <span class="op">=</span> <span class="st">"MTCARS"</span>,</span>
<span>          tableid <span class="op">=</span> <span class="st">"01"</span>, adsns <span class="op">=</span> <span class="st">"mtcars"</span>,</span>
<span>          population <span class="op">=</span> <span class="st">"all cars"</span>,</span>
<span>          time <span class="op">=</span> <span class="st">"1973"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Perform analysis on MPG</span></span>
<span><span class="co"># - Using cylinders as a by group</span></span>
<span><span class="va">analdf</span> <span class="op">&lt;-</span> <span class="va">mtcars</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">mpg</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op">|&gt;</span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarize</a></span><span class="op">(</span>n <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>            mean <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            std <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            min <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">min</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,</span>
<span>            max <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View analysis data</span></span>
<span><span class="va">analdf</span></span>
<span><span class="co">#     cyl     n  mean   std   min   max</span></span>
<span><span class="co">#   &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span><span class="co"># 1     4    11  26.7  4.51  21.4  33.9</span></span>
<span><span class="co"># 2     6     7  19.7  1.45  17.8  21.4</span></span>
<span><span class="co"># 3     8    14  15.1  2.56  10.4  19.2</span></span>
<span></span>
<span><span class="co"># Add analysis data to ARDS</span></span>
<span><span class="co"># - These values will be unique for each row in the ARDS dataset</span></span>
<span><span class="fu"><a href="../reference/add_ards.html">add_ards</a></span><span class="op">(</span><span class="va">analdf</span>, </span>
<span>         statvars <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"n"</span>, <span class="st">"mean"</span>, <span class="st">"std"</span>, <span class="st">"min"</span>, <span class="st">"max"</span><span class="op">)</span>,</span>
<span>         anal_var <span class="op">=</span> <span class="st">"mpg"</span>, trtvar <span class="op">=</span> <span class="st">"cyl"</span><span class="op">)</span></span>
<span>         </span>
<span>         </span>
<span><span class="co"># Get the ARDS</span></span>
<span><span class="co"># - Remove by-variables to make the ARDS dataset easier to read</span></span>
<span><span class="va">ards</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_ards.html">get_ards</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"by"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Uncomment to view ards</span></span>
<span><span class="co"># View(ards)</span></span></code></pre></div>
<p>Here is an image of the ARDS dataset created above:
<img src="../man/images/ards2.png" alt="ARDS dataset image"></p>
</div>
<div class="section level2">
<h2 id="restoring-an-ards-dataset">Restoring an ARDS Dataset<a class="anchor" aria-label="anchor" href="#restoring-an-ards-dataset"></a>
</h2>
<p>The ARDS dataset structure is useful for storage and sharing of
analysis results. It is not so useful for reporting. Having all the
statistics in a single column actually makes reporting quite difficult.
To perform reporting, it is necessary to put the statistics back into
separate columns. This “widening” of the ARDS dataset can be performed
with the <code><a href="../reference/restore_ards.html">restore_ards()</a></code> function.</p>
<p>The <code><a href="../reference/restore_ards.html">restore_ards()</a></code> function accepts an ARDS dataset and
will return a list of transposed data frames. The list will contain one
data frame for each analysis variable. The columns for each data frame
may be different depending on which statistics were requested in the
original ARDS construction.</p>
<p>Let’s pick up from the last example, and just restore the result from
<code><a href="../reference/get_ards.html">get_ards()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Restore to wide format</span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/restore_ards.html">restore_ards</a></span><span class="op">(</span><span class="va">ards</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View results</span></span>
<span><span class="va">res</span></span>
<span><span class="co"># $mpg</span></span>
<span><span class="co">#   cyl anal_var  n     mean      std  min  max</span></span>
<span><span class="co"># 1   4      mpg 11 26.66364 4.509828 21.4 33.9</span></span>
<span><span class="co"># 2   6      mpg  7 19.74286 1.453567 17.8 21.4</span></span>
<span><span class="co"># 3   8      mpg 14 15.10000 2.560048 10.4 19.2</span></span></code></pre></div>
<p>Notice that the analysis data has been restored, and statistics have
been put back into their own columns. The data is now ready for
reporting.</p>
</div>
<div class="section level2">
<h2 id="next-steps">Next Steps<a class="anchor" aria-label="anchor" href="#next-steps"></a>
</h2>
<p>For further demonstrations of the <strong>ards</strong> package in
action, see the following:</p>
<p><a href="ards-example1.html">Example 1: ARDS in Parallel</a><br><a href="ards-example2.html">Example 2: ARDS in Serial</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by David Bosak.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
